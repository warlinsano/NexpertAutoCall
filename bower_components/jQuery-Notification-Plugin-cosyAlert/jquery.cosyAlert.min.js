(function(a){a.cosyAlert={configuration:{defaultType:"alert",useQueue:!1},configurationAlert:{container:null,vPos:"top",hPos:"center",autoHide:!0,autoHideTime:5E3,showTime:400,hideTime:600,onShowComplete:null,onHideComplete:null},counter:0,animating:!1,animationQueue:[],timers:{},getElmContainer:function(b,c){return elmContainer=a("#cosyAlert-container-"+b+"-"+c).length?a("#cosyAlert-container-"+b+"-"+c):a("<div></div>").attr("class","cosyAlert-container "+b+" "+c).attr("id","cosyAlert-container-"+
b+"-"+c).appendTo("body")},getElmAlert:function(b,c,e,d){if("object"==typeof b)elmAlert=a(b);else if(a("#"+b).length)elmAlert=a("#"+b);else{if(!c||!e||!d)return!1;elmAlert=a("<div></div>").attr("class","cosyAlert "+c+" "+d.vPos+" "+d.hPos).attr("id",b).css({opacity:0}).html(e);d.container&&"string"==typeof d.container?elmAlert.appendTo(a("#"+d.container)):"bottom"==d.vPos?elmAlert.prependTo(a.cosyAlert.getElmContainer(d.vPos,d.hPos)):elmAlert.appendTo(a.cosyAlert.getElmContainer(d.vPos,d.hPos));elmAlert.data("cosyAlert",
d);elmAlertClose=jQuery("<div></div>").attr("class","close").html("&times;").click(function(b){a.cosyAlert.hide(a(this).parent()[0].id)}).prependTo(elmAlert);d.autoHide&&(elmAlertLoader=jQuery("<div></div>").attr("class","loader").appendTo(elmAlert),elmAlertLoaderBar=jQuery("<div></div>").attr("class","loader-bar").appendTo(elmAlertLoader));a.cosyAlert.counter++}return elmAlert},add:function(b,c,e,d){alertConfig=a.extend({},a.cosyAlert.configurationAlert,e);!d||"function"!=typeof d||alertConfig.onHideComplete&&
"function"==typeof alertConfig.onHideComplete||(alertConfig.onHideComplete=d);elmId="cosyAlert-"+c+"-"+a.cosyAlert.counter;alertConfig.id=elmId;alertConfig.timerId=a.cosyAlert.counter;a.cosyAlert.getElmAlert(elmId,c,b,alertConfig);return elmId},show:function(b){if(a.cosyAlert.configuration.useQueue&&a.cosyAlert.animating)a.cosyAlert.animationQueue.push({action:"show",elmId:b});else{elmAlert=a.cosyAlert.getElmAlert(b);if(!elmAlert)return!1;alertConfig=elmAlert.data("cosyAlert");animateCallback=function(){a.cosyAlert.animating=
!1;elmAlert=a(this);alertConfig=elmAlert.data("cosyAlert");alertConfig.autoHide&&(loaderBar=a(this).find(".loader-bar"),loaderBar.length&&loaderBar.animate({width:0},alertConfig.autoHideTime,"linear"),a.cosyAlert.timers[alertConfig.timerId]=window.setTimeout(function(){a.cosyAlert.hide(b)},alertConfig.autoHideTime));a.cosyAlert.runQueue();if(alertConfig.onShowComplete&&"function"==typeof alertConfig.onShowComplete)alertConfig.onShowComplete()};animateOptions={opacity:1};if(alertConfig.container&&
"string"==typeof alertConfig.container)elmAlert.hide().slideDown(alertConfig.showTime/2).fadeTo(alertConfig.showTime/2,1,animateCallback),animateOptions=!1;else switch(alertConfig.vPos){case "top":elmAlert.css({marginTop:-elmAlert.outerHeight(!0)});animateOptions.marginTop=0;break;case "middle":"left"==alertConfig.hPos?(elmAlert.css({marginLeft:-elmAlert.outerWidth(!0)}),animateOptions.marginLeft=0):"right"==alertConfig.hPos&&(elmAlert.css({marginLeft:elmAlert.outerWidth(!0)}),animateOptions.marginLeft=
0);break;case "bottom":elmAlert.css({marginBottom:-elmAlert.outerHeight(!0)}),animateOptions.marginBottom=0}animateOptions&&(a.cosyAlert.animating=!0,elmAlert.animate(animateOptions,alertConfig.showTime,animateCallback));return!0}},hide:function(b){if(a.cosyAlert.configuration.useQueue&&a.cosyAlert.animating)a.cosyAlert.animationQueue.push({action:"hide",elmId:b});else{elmAlert=a.cosyAlert.getElmAlert(b);if(!elmAlert)return!1;alertConfig=elmAlert.data("cosyAlert");a.cosyAlert.timers[alertConfig.timerId]&&
(window.clearTimeout(a.cosyAlert.timers[alertConfig.timerId]),delete a.cosyAlert.timers[alertConfig.timerId]);animateCallback=function(){elmAlert=a(this);alertConfig=elmAlert.data("cosyAlert");a(this).remove();a.cosyAlert.animating=!1;a.cosyAlert.checkContainer(alertConfig.vPos,alertConfig.hPos);a.cosyAlert.runQueue();if(alertConfig.onHideComplete&&"function"==typeof alertConfig.onHideComplete)alertConfig.onHideComplete()};animateOptions={opacity:0};if(alertConfig.container&&"string"==typeof alertConfig.container)elmAlert.fadeTo(alertConfig.showTime/
2,0).slideUp(alertConfig.showTime/2,animateCallback),animateOptions=!1;else switch(alertConfig.vPos){case "top":animateOptions.marginTop=-elmAlert.outerHeight(!0);break;case "middle":"left"==alertConfig.hPos?animateOptions.marginLeft=-elmAlert.outerWidth(!0):"right"==alertConfig.hPos&&(animateOptions.marginLeft=elmAlert.outerWidth(!0));a.cosyAlert.animating=!0;elmAlert.animate(animateOptions,alertConfig.hideTime).slideUp(200,animateCallback);animateOptions=!1;break;case "bottom":animateOptions.marginBottom=
-elmAlert.outerHeight(!0)}animateOptions&&(a.cosyAlert.animating=!0,elmAlert.animate(animateOptions,alertConfig.hideTime,animateCallback));return!0}},runQueue:function(){if(a.cosyAlert.animationQueue.length)for(i in a.cosyAlert.animationQueue)if(animation=a.cosyAlert.animationQueue[i],"show"==animation.action?a.cosyAlert.show(animation.elmId):"hide"==animation.action&&a.cosyAlert.hide(animation.elmId),a.cosyAlert.animationQueue.splice(i,1),a.cosyAlert.configuration.useQueue)break},checkContainer:function(b,
c){a("#cosyAlert-container-"+b+"-"+c).length&&(a("#cosyAlert-container-"+b+"-"+c).children(".cosyAlert").length||a("#cosyAlert-container-"+b+"-"+c).remove())}};cosyAlert=function(b,c,e,d){d||("function"==typeof c?d=c:"function"==typeof e&&(d=e));e||"object"==typeof c&&(e=c);c&&"string"==typeof c||(c=a.cosyAlert.configuration.defaultType);elmAlert=a.cosyAlert.add(b,c,e,d);a.cosyAlert.show(elmAlert);return elmAlert}})(jQuery);